<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

	<entry key="selectReviewList">
		SELECT
		COUNT(*) count
		FROM REVIEW RV
		WHERE STATUS = 'Y'
	</entry>

	<entry key="selectReviewArrayList">
		SELECT *
		FROM (
				SELECT ROWNUM RNUM, A.*
				FROM (
						SELECT
							REVIEW_NO
							, CREATE_DATE
							, TITLE
							, CONTENT
							, PR_RATING
							, P_RATING
							, R_RATING
							, LIKE_REVIEW
						FROM REVIEW RV
						WHERE STATUS = 'Y'
						ORDER
						BY CREATE_DATE DESC
						, REVIEW_NO DESC
						) A
				)
		WHERE RNUM BETWEEN ? AND ?

	</entry>
	
	<entry key="selectImageArraylist">
		SELECT *
		FROM (
				SELECT ROWNUM RNUM, A.*
				FROM (
						SELECT
							IMAGE_NO
							, REF_BNO
							, ORIGIN_NAME
							, CHANGE_NAME
							, FILE_PATH
							, UPLOAD_DATE
							, REVIEW_BNO
							, POST_BNO
							, PROFILE_BNO
							, FILE_LEVEL
						FROM IMAGE IMG
						WHERE STATUS = 'Y'
						ORDER
						BY IMAGE_NO DESC
						) A
				)
		WHERE RNUM BETWEEN ? AND ?
	
	</entry>

	<entry key="selectRefBno">
		SELECT
    		REVIEW_NO
		FROM REVIEW
		WHERE STATUS = 'Y'
		
	</entry>
	
	<entry key="selectSubCategoryList">
		SELECT
	      SC_ID
	    , SC_NAME
		FROM SUBCATEGORY SC
	</entry>
	
	<entry key="insertReview">
	INSERT
    	INTO
    	REVIEW RV
	    (
	      REVIEW_NO
	    , PCODE
	    , MEM_NO
	    , TITLE
	    , CONTENT
	    , CREATE_DATE
	    , P_RATING
	    , R_RATING
	    , PR_RATING
	    , LIKE_REVIEW
	    , STATUS
	    )
    VALUES
	    (
	       SEQ_REVIEW.NEXTVAL
	     , ?
	     , ?
	     , ?
	     , ?
	     , SYSDATE
	     , ?
	     , ?
	     , ?
	     , ?
	     , 'Y'
	    )
	
	</entry>

	<entry key="insertImage">
	INSERT
	    INTO
	    IMAGE IMG
	    (
	      IMAGE_NO
	    , REF_BNO
	    , ORIGIN_NAME
	    , CHANGE_NAME
	    , FILE_PATH
	    , UPLOAD_DATE
	    , REVIEW_BNO
	    , FILE_LEVEL
	    )
    VALUES
	    (
	      SEQ_I_NO.NEXTVAL
	    , ?
	    , ?
	    , ?
	    , ?
	    , SYSDATE
	    , TO_CHAR(SEQ_REVIEW.CURRVAL)
	    , 1
	    )
	
	</entry>
	
	<entry key="selectMemNo">
		SELECT
		    MEM_NO
		FROM REVIEW RV
		WHERE STATUS = 'Y'
	
	</entry>
	
	<entry key="selectReview">
		SELECT
			  REVIEW_NO
			, PCODE
		    , MEM_NO
		    , TITLE
		    , CONTENT
		    , CREATE_DATE
		    , P_RATING
		    , R_RATING
		    , PR_RATING
		    , LIKE_REVIEW
		FROM REVIEW RV
		WHERE REVIEW_NO = ?
		AND STATUS = 'Y'
	
	</entry>
	
	<entry key="selectImage">
		SELECT
		      IMAGE_NO
		    , REF_BNO
		    , ORIGIN_NAME
		    , CHANGE_NAME
		    , FILE_PATH
		    , REVIEW_BNO
		FROM IMAGE IMG
		WHERE REVIEW_BNO = ?
		AND STATUS = 'Y'
		AND FILE_LEVEL = 1
	
	</entry>
	
	<entry key="selectImgMemNo">
		SELECT
		    MEM_NO
		FROM REVIEW RV
		WHERE STATUS = 'Y'
	
	</entry>
	
	<entry key="selectImgReview">
		SELECT
			REVIEW_NO
			, PCODE
		    , MEM_NO
		    , TITLE
		    , CONTENT
		    , CREATE_DATE
		    , P_RATING
		    , R_RATING
		    , PR_RATING
		    , LIKE_REVIEW
		FROM REVIEW RV
		WHERE STATUS = 'Y'
	
	</entry>
	
	<entry key="selectImgImage">
		SELECT
		      IMAGE_NO
		    , REF_BNO
		    , ORIGIN_NAME
		    , CHANGE_NAME
		    , FILE_PATH
		    , REVIEW_BNO
		FROM IMAGE IMG
		WHERE STATUS = 'Y'
		AND FILE_LEVEL = 1
	
	</entry>
	
	<entry key="updateReview">
		UPDATE
	        REVIEW
		SET
	          PCODE = ?
	        , TITLE = ?
	        , CONTENT = ?
	        , P_RATING = ?
	        , R_RATING = ?
	        , PR_RATING = ?
		WHERE REVIEW_NO = ?
	
	</entry>

	<entry key="updateImage">
		UPDATE
	       	IMAGE
		SET
	          REF_BNO = ?
	        , ORIGIN_NAME = ?
	        , CHANGE_NAME = ?
	        , FILE_PATH = ?
		WHERE IMAGE_NO = ?
	
	</entry>
	
	<entry key="newInsertImage">
		INSERT
    	INTO
    	IMAGE IMG
	    (
	      IMAGE_NO
	    , REF_BNO
	    , ORIGIN_NAME
	    , CHANGE_NAME
	    , FILE_PATH
	    , UPLOAD_DATE
	    , REVIEW_BNO
	    , FILE_LEVEL
	    )
    VALUES
	    (
	      SEQ_I_NO.NEXTVAL
	    , ?
	    , ?
	    , ?
	    , ?
	    , SYSDATE
	    , ?
	    , 1
	    )
	
	</entry>
	
	<entry key="deleteNewReview">
		UPDATE
		    REVIEW
		SET STATUS = 'N'
		WHERE REVIEW_NO = ?
	
	</entry>
	
	<entry key="selectReplyList">
		SELECT
		      REPLY_NO
		    , REF_BNO
            , MEM_NO
		    , MEM_ID
		    , REPLY_CONTENT
		    , CREATE_DATE
		FROM REPLY
		JOIN MEMBER M USING(MEM_NO)
		WHERE REPLY_STATUS = 'Y'
		    AND REF_BNO = ?
		ORDER
		   BY REPLY_NO DESC
	       	, CREATE_DATE DESC
	</entry>
	
	<entry key="insertReply">
	INSERT
   		INTO
       	REPLY
	    (
	    REPLY_NO
	    , REF_BNO
	    , MEM_NO
	    , REPLY_CONTENT
	    , CREATE_DATE
	    , REPLY_STATUS
	    )
    	VALUES
	    (
	    SEQ_REPLY.NEXTVAL
	    , ?
	    , ?
	    , ?
	    , default
	    , default
	    )
	
	</entry>
	
	
	
</properties>